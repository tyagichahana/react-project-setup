{"ast":null,"code":"import _defineProperty from \"/Users/chahanatyagi/Work/cm-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/chahanatyagi/Work/cm-frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/chahanatyagi/Work/cm-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/chahanatyagi/Work/cm-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/chahanatyagi/Work/cm-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/chahanatyagi/Work/cm-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/chahanatyagi/Work/cm-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/chahanatyagi/Work/cm-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/chahanatyagi/Work/cm-frontend/src/pages/InAppCampaign/Steps/Step2.js\";\nimport React, { Component } from 'react';\nimport _ from 'lodash';\nimport Stepper from '@/components/stepper';\nimport WrapComponents from '@/components/wrapper';\nimport { Radio } from '@/components/radio';\nimport { ColoredButtons, TransparentButtons } from '@/components/button';\nimport { SmallHeading } from '@/components/headings/index';\nimport ConnectComponent from '../../../connect';\nimport { Checkbox } from '@/components/checkBox/index';\nimport { UploadContent } from '@/actions/utils';\n\nvar StepTwo =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(StepTwo, _Component);\n\n  function StepTwo() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, StepTwo);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(StepTwo)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      steps: ['Channel', 'Message', 'Scheduling', 'Segmentation', 'Overview & Send'],\n      message: '',\n      title: '',\n      advance: false,\n      buttons: false,\n      background: false,\n      foreground: false,\n      FgImageUpload: true,\n      FgImageUrl: false,\n      ImageUpload: true,\n      ImageUrl: false,\n      upload: false,\n      closeActionUrl: true,\n      enterActionUrl: false,\n      userFilePath: '',\n      ui: {\n        bg: {\n          img: '',\n          sc: '',\n          clr: '',\n          sw: 3,\n          rd: 3\n        },\n        fg: {\n          img: '',\n          clr: '7',\n          sc: '',\n          sw: 0,\n          rd: 0\n        },\n        ttl: {\n          txt: '',\n          clr: '',\n          sz: '20'\n        },\n        msg: {\n          txt: '',\n          clr: '',\n          sz: ''\n        },\n        img: '',\n        appLink: '',\n        btnOrig: 3,\n        inAppButtons: [{\n          text: '',\n          clr: '',\n          bgc: '',\n          sz: 12,\n          appLink: ''\n        }]\n      }\n    };\n\n    _this.handleFileChange =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var files, res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                files = e.target.files;\n\n                if (!(files.length == 1)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _context.next = 4;\n                return UploadContent(files[0], 'media');\n\n              case 4:\n                res = _context.sent;\n\n                if (res) {\n                  _this.setState({\n                    userFilePath: res.s3url,\n                    upload: true\n                  });\n                }\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.handleStateInputField = function (key, value) {\n      var ui = _this.state.ui;\n\n      _this.setState({\n        ui: _.set(ui, key, value)\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(StepTwo, [{\n    key: \"handleInputFields\",\n    value: function handleInputFields(key, value) {\n      if (!value) {\n        this.setState(_defineProperty({}, key, value));\n      } else {\n        this.setState(_defineProperty({}, key, value));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          steps = _this$state.steps,\n          message = _this$state.message,\n          title = _this$state.title,\n          advance = _this$state.advance,\n          button = _this$state.button,\n          background = _this$state.background,\n          ImageUrl = _this$state.ImageUrl,\n          ImageUpload = _this$state.ImageUpload,\n          foreground = _this$state.foreground,\n          FgImageUpload = _this$state.FgImageUpload,\n          FgImageUrl = _this$state.FgImageUrl,\n          closeActionUrl = _this$state.closeActionUrl,\n          enterActionUrl = _this$state.enterActionUrl,\n          ui = _this$state.ui;\n      return React.createElement(WrapComponents, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(Stepper, {\n        steps: steps,\n        activeStep: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"flex-space-bt \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"section-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"section\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(SmallHeading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Title*\"), React.createElement(\"input\", {\n        placeholder: \"Enter Message title\",\n        type: \"text\",\n        className: \"form-input\",\n        name: \"title\",\n        value: ui.ttl.txt,\n        onChange: function onChange(e) {\n          return _this2.handleStateInputField('ttl.txt', e.currentTarget.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), React.createElement(SmallHeading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Message*\"), React.createElement(\"input\", {\n        placeholder: \"Enter Message\",\n        type: \"text\",\n        className: \"form-input\",\n        name: \"message\",\n        value: ui.msg.txt,\n        onChange: function onChange(e) {\n          return _this2.handleStateInputField('msg.txt', e.currentTarget.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"advance-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(Checkbox, {\n        checked: button,\n        onChange: function onChange() {\n          return _this2.setState({\n            button: !button\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"Button\"), button && _.map(ui.inAppButtons, function (btn, index) {\n        return React.createElement(\"div\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"mrgn-top-15 row-child\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-input\",\n          placeholder: \"Button Text\",\n          value: btn.text,\n          onChange: function onChange(e) {\n            return _this2.handleStateInputField(\"inAppButtons[\".concat(index, \"].text\"), e.currentTarget.value);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"mrgn-top-15 margn-left-15 \",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, React.createElement(Radio, {\n          checked: closeActionUrl,\n          onClick: function onClick() {\n            return _this2.setState({\n              closeActionUrl: !closeActionUrl,\n              enterActionUrl: !enterActionUrl\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, \"Close Notification\"), React.createElement(Radio, {\n          checked: enterActionUrl,\n          onClick: function onClick() {\n            return _this2.setState({\n              closeActionUrl: !closeActionUrl,\n              enterActionUrl: !enterActionUrl\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, \"Enter Redirect URL\"), enterActionUrl && React.createElement(\"div\", {\n          className: \"mrgn-top-15 row-child\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-input\",\n          placeholder: \"Enter URL\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }))));\n      })), React.createElement(\"div\", {\n        className: \"advance-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(Checkbox, {\n        checked: background,\n        onChange: function onChange() {\n          return _this2.setState({\n            background: !background\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \"Background\"), background && React.createElement(\"div\", {\n        className: \"mrgn-top-15 margn-left-15 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(Radio, {\n        checked: ImageUpload,\n        onClick: function onClick() {\n          return _this2.setState({\n            ImageUpload: !ImageUpload,\n            ImageUrl: !ImageUrl\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, \"Upload Image\"), React.createElement(Radio, {\n        checked: ImageUrl,\n        onClick: function onClick() {\n          return _this2.setState({\n            ImageUpload: !ImageUpload,\n            ImageUrl: !ImageUrl\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, \"Enter URL\"), ImageUrl && React.createElement(\"div\", {\n        className: \"mrgn-top-15 row-child\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-input\",\n        placeholder: \"Enter URL\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      })), ImageUpload && React.createElement(\"div\", {\n        className: \"mrgn-top-15 row-child\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"upload-file upload-box \",\n        onClick: this.handleFileChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        className: \"file-input\",\n        id: \"uploadFile\",\n        onChange: this.handleFileChange,\n        accept: \".jpg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"advance-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, React.createElement(Checkbox, {\n        checked: background,\n        onChange: function onChange() {\n          return _this2.setState({\n            background: !background\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, \"Background\"), foreground && React.createElement(\"div\", {\n        className: \"mrgn-top-15 margn-left-15 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(Radio, {\n        checked: FgImageUpload,\n        onClick: function onClick() {\n          return _this2.setState({\n            FgImageUpload: !FgImageUpload,\n            FgImageUrl: !FgImageUrl\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, \"Upload Image\"), React.createElement(Radio, {\n        checked: FgImageUrl,\n        onClick: function onClick() {\n          return _this2.setState({\n            FgImageUpload: !FgImageUpload,\n            FgImageUrl: !FgImageUrl\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, \"Enter URL\"), FgImageUrl && React.createElement(\"div\", {\n        className: \"mrgn-top-15 row-child\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-input\",\n        placeholder: \"Enter URL\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      })), FgImageUpload && React.createElement(\"div\", {\n        className: \"mrgn-top-15 row-child\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"upload-file upload-box \",\n        onClick: this.handleFileChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        className: \"file-input\",\n        id: \"uploadFile\",\n        onChange: this.handleFileChange,\n        accept: \".jpg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"dotted-line\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }), React.createElement(Checkbox, {\n        checked: advance,\n        onClick: function onClick(e) {\n          _this2.setState({\n            advance: !advance\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, \"Include Close Button\")), React.createElement(ColoredButtons, {\n        to: \"/in-app/step-3/\",\n        as: \"link\",\n        className: \"float\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }, \"Continue\"), React.createElement(TransparentButtons, {\n        onClick: function onClick() {\n          return _this2.props.history.goBack();\n        },\n        className: \"float grey-border\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339\n        },\n        __self: this\n      }, \"Go Back\")), React.createElement(\"div\", {\n        className: \"section section-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346\n        },\n        __self: this\n      }, React.createElement(SmallHeading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, \"Preview\"), React.createElement(\"div\", {\n        className: \"preview-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      }, \"Actual display may be different to this preview depending on the user\\u2019s device.\"))));\n    }\n  }]);\n\n  return StepTwo;\n}(Component);\n\nexport default ConnectComponent(StepTwo);","map":{"version":3,"sources":["/Users/chahanatyagi/Work/cm-frontend/src/pages/InAppCampaign/Steps/Step2.js"],"names":["React","Component","_","Stepper","WrapComponents","Radio","ColoredButtons","TransparentButtons","SmallHeading","ConnectComponent","Checkbox","UploadContent","StepTwo","state","steps","message","title","advance","buttons","background","foreground","FgImageUpload","FgImageUrl","ImageUpload","ImageUrl","upload","closeActionUrl","enterActionUrl","userFilePath","ui","bg","img","sc","clr","sw","rd","fg","ttl","txt","sz","msg","appLink","btnOrig","inAppButtons","text","bgc","handleFileChange","e","files","target","length","res","setState","s3url","handleStateInputField","key","value","set","button","currentTarget","map","btn","index","props","history","goBack"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,cAAP,MAA2B,sBAA3B;AACA,SAASC,KAAT,QAAsB,oBAAtB;AACA,SAASC,cAAT,EAAyBC,kBAAzB,QAAmD,qBAAnD;AACA,SAASC,YAAT,QAA6B,6BAA7B;AACA,OAAOC,gBAAP,MAA6B,kBAA7B;AACA,SAASC,QAAT,QAAyB,6BAAzB;AACA,SAASC,aAAT,QAA8B,iBAA9B;;IAEMC,O;;;;;;;;;;;;;;;;;UACFC,K,GAAQ;AACJC,MAAAA,KAAK,EAAE,CAAC,SAAD,EAAY,SAAZ,EAAuB,YAAvB,EAAqC,cAArC,EAAqD,iBAArD,CADH;AAEJC,MAAAA,OAAO,EAAE,EAFL;AAGJC,MAAAA,KAAK,EAAE,EAHH;AAIJC,MAAAA,OAAO,EAAE,KAJL;AAKJC,MAAAA,OAAO,EAAE,KALL;AAMJC,MAAAA,UAAU,EAAE,KANR;AAOJC,MAAAA,UAAU,EAAE,KAPR;AAQJC,MAAAA,aAAa,EAAE,IARX;AASJC,MAAAA,UAAU,EAAE,KATR;AAUJC,MAAAA,WAAW,EAAE,IAVT;AAWJC,MAAAA,QAAQ,EAAE,KAXN;AAYJC,MAAAA,MAAM,EAAE,KAZJ;AAaJC,MAAAA,cAAc,EAAE,IAbZ;AAcJC,MAAAA,cAAc,EAAE,KAdZ;AAeJC,MAAAA,YAAY,EAAE,EAfV;AAgBJC,MAAAA,EAAE,EAAE;AACAC,QAAAA,EAAE,EAAE;AACAC,UAAAA,GAAG,EAAE,EADL;AAEAC,UAAAA,EAAE,EAAE,EAFJ;AAGAC,UAAAA,GAAG,EAAE,EAHL;AAIAC,UAAAA,EAAE,EAAE,CAJJ;AAKAC,UAAAA,EAAE,EAAE;AALJ,SADJ;AAQAC,QAAAA,EAAE,EAAE;AACAL,UAAAA,GAAG,EAAE,EADL;AAEAE,UAAAA,GAAG,EAAE,GAFL;AAGAD,UAAAA,EAAE,EAAE,EAHJ;AAIAE,UAAAA,EAAE,EAAE,CAJJ;AAKAC,UAAAA,EAAE,EAAE;AALJ,SARJ;AAeAE,QAAAA,GAAG,EAAE;AACDC,UAAAA,GAAG,EAAE,EADJ;AAEDL,UAAAA,GAAG,EAAE,EAFJ;AAGDM,UAAAA,EAAE,EAAE;AAHH,SAfL;AAoBAC,QAAAA,GAAG,EAAE;AACDF,UAAAA,GAAG,EAAE,EADJ;AAEDL,UAAAA,GAAG,EAAE,EAFJ;AAGDM,UAAAA,EAAE,EAAE;AAHH,SApBL;AAyBAR,QAAAA,GAAG,EAAE,EAzBL;AA0BAU,QAAAA,OAAO,EAAE,EA1BT;AA2BAC,QAAAA,OAAO,EAAE,CA3BT;AA4BAC,QAAAA,YAAY,EAAE,CACV;AACIC,UAAAA,IAAI,EAAE,EADV;AAEIX,UAAAA,GAAG,EAAE,EAFT;AAGIY,UAAAA,GAAG,EAAE,EAHT;AAIIN,UAAAA,EAAE,EAAE,EAJR;AAKIE,UAAAA,OAAO,EAAE;AALb,SADU;AA5Bd;AAhBA,K;;UAuDRK,gB;;;;;+BAAmB,iBAAMC,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACPC,gBAAAA,KADO,GACGD,CAAC,CAACE,MADL,CACPD,KADO;;AAAA,sBAEXA,KAAK,CAACE,MAAN,IAAgB,CAFL;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAGOvC,aAAa,CAACqC,KAAK,CAAC,CAAD,CAAN,EAAW,OAAX,CAHpB;;AAAA;AAGLG,gBAAAA,GAHK;;AAIX,oBAAIA,GAAJ,EAAS;AACL,wBAAKC,QAAL,CAAc;AACVxB,oBAAAA,YAAY,EAAEuB,GAAG,CAACE,KADR;AAEV5B,oBAAAA,MAAM,EAAE;AAFE,mBAAd;AAIH;;AATU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;UAwBnB6B,qB,GAAwB,UAACC,GAAD,EAAMC,KAAN,EAAgB;AAAA,UAC9B3B,EAD8B,GACvB,MAAKhB,KADkB,CAC9BgB,EAD8B;;AAEpC,YAAKuB,QAAL,CAAc;AACVvB,QAAAA,EAAE,EAAE3B,CAAC,CAACuD,GAAF,CAAM5B,EAAN,EAAU0B,GAAV,EAAeC,KAAf;AADM,OAAd;AAGH,K;;;;;;;sCAjBiBD,G,EAAKC,K,EAAO;AAC1B,UAAI,CAACA,KAAL,EAAY;AACR,aAAKJ,QAAL,qBACKG,GADL,EACWC,KADX;AAGH,OAJD,MAIO;AACH,aAAKJ,QAAL,qBACKG,GADL,EACWC,KADX;AAGH;AACJ;;;6BASQ;AAAA;;AAAA,wBAgBD,KAAK3C,KAhBJ;AAAA,UAEDC,KAFC,eAEDA,KAFC;AAAA,UAGDC,OAHC,eAGDA,OAHC;AAAA,UAIDC,KAJC,eAIDA,KAJC;AAAA,UAKDC,OALC,eAKDA,OALC;AAAA,UAMDyC,MANC,eAMDA,MANC;AAAA,UAODvC,UAPC,eAODA,UAPC;AAAA,UAQDK,QARC,eAQDA,QARC;AAAA,UASDD,WATC,eASDA,WATC;AAAA,UAUDH,UAVC,eAUDA,UAVC;AAAA,UAWDC,aAXC,eAWDA,aAXC;AAAA,UAYDC,UAZC,eAYDA,UAZC;AAAA,UAaDI,cAbC,eAaDA,cAbC;AAAA,UAcDC,cAdC,eAcDA,cAdC;AAAA,UAeDE,EAfC,eAeDA,EAfC;AAiBL,aACI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,OAAD;AAAS,QAAA,KAAK,EAAEf,KAAhB;AAAuB,QAAA,UAAU,EAAE,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEI;AACI,QAAA,WAAW,EAAC,qBADhB;AAEI,QAAA,IAAI,EAAC,MAFT;AAGI,QAAA,SAAS,EAAC,YAHd;AAII,QAAA,IAAI,EAAC,OAJT;AAKI,QAAA,KAAK,EAAEe,EAAE,CAACQ,GAAH,CAAOC,GALlB;AAMI,QAAA,QAAQ,EAAE,kBAAAS,CAAC;AAAA,iBACP,MAAI,CAACO,qBAAL,CAA2B,SAA3B,EAAsCP,CAAC,CAACY,aAAF,CAAgBH,KAAtD,CADO;AAAA,SANf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAYI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAZJ,EAaI;AACI,QAAA,WAAW,EAAC,eADhB;AAEI,QAAA,IAAI,EAAC,MAFT;AAGI,QAAA,SAAS,EAAC,YAHd;AAII,QAAA,IAAI,EAAC,SAJT;AAKI,QAAA,KAAK,EAAE3B,EAAE,CAACW,GAAH,CAAOF,GALlB;AAMI,QAAA,QAAQ,EAAE,kBAAAS,CAAC;AAAA,iBACP,MAAI,CAACO,qBAAL,CAA2B,SAA3B,EAAsCP,CAAC,CAACY,aAAF,CAAgBH,KAAtD,CADO;AAAA,SANf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbJ,EAuBI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,QAAD;AACI,QAAA,OAAO,EAAEE,MADb;AAEI,QAAA,QAAQ,EAAE;AAAA,iBAAM,MAAI,CAACN,QAAL,CAAc;AAAEM,YAAAA,MAAM,EAAE,CAACA;AAAX,WAAd,CAAN;AAAA,SAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAOKA,MAAM,IACHxD,CAAC,CAAC0D,GAAF,CAAM/B,EAAE,CAACc,YAAT,EAAuB,UAACkB,GAAD,EAAMC,KAAN;AAAA,eACnB;AAAK,UAAA,GAAG,EAAEA,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AACI,UAAA,IAAI,EAAC,MADT;AAEI,UAAA,SAAS,EAAC,YAFd;AAGI,UAAA,WAAW,EAAC,aAHhB;AAII,UAAA,KAAK,EAAED,GAAG,CAACjB,IAJf;AAKI,UAAA,QAAQ,EAAE,kBAAAG,CAAC;AAAA,mBACP,MAAI,CAACO,qBAAL,wBACoBQ,KADpB,aAEIf,CAAC,CAACY,aAAF,CAAgBH,KAFpB,CADO;AAAA,WALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADJ,EAeI;AAAK,UAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,KAAD;AACI,UAAA,OAAO,EAAE9B,cADb;AAEI,UAAA,OAAO,EAAE;AAAA,mBACL,MAAI,CAAC0B,QAAL,CAAc;AACV1B,cAAAA,cAAc,EAAE,CAACA,cADP;AAEVC,cAAAA,cAAc,EAAE,CAACA;AAFP,aAAd,CADK;AAAA,WAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADJ,EAYI,oBAAC,KAAD;AACI,UAAA,OAAO,EAAEA,cADb;AAEI,UAAA,OAAO,EAAE;AAAA,mBACL,MAAI,CAACyB,QAAL,CAAc;AACV1B,cAAAA,cAAc,EAAE,CAACA,cADP;AAEVC,cAAAA,cAAc,EAAE,CAACA;AAFP,aAAd,CADK;AAAA,WAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAZJ,EAuBKA,cAAc,IACX;AAAK,UAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AACI,UAAA,IAAI,EAAC,MADT;AAEI,UAAA,SAAS,EAAC,YAFd;AAGI,UAAA,WAAW,EAAC,WAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CAxBR,CAfJ,CADmB;AAAA,OAAvB,CARR,CAvBJ,EAmFI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,QAAD;AACI,QAAA,OAAO,EAAER,UADb;AAEI,QAAA,QAAQ,EAAE;AAAA,iBAAM,MAAI,CAACiC,QAAL,CAAc;AAAEjC,YAAAA,UAAU,EAAE,CAACA;AAAf,WAAd,CAAN;AAAA,SAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAOKA,UAAU,IACP;AAAK,QAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AACI,QAAA,OAAO,EAAEI,WADb;AAEI,QAAA,OAAO,EAAE;AAAA,iBACL,MAAI,CAAC6B,QAAL,CAAc;AACV7B,YAAAA,WAAW,EAAE,CAACA,WADJ;AAEVC,YAAAA,QAAQ,EAAE,CAACA;AAFD,WAAd,CADK;AAAA,SAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAYI,oBAAC,KAAD;AACI,QAAA,OAAO,EAAEA,QADb;AAEI,QAAA,OAAO,EAAE;AAAA,iBACL,MAAI,CAAC4B,QAAL,CAAc;AACV7B,YAAAA,WAAW,EAAE,CAACA,WADJ;AAEVC,YAAAA,QAAQ,EAAE,CAACA;AAFD,WAAd,CADK;AAAA,SAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAZJ,EAwBKA,QAAQ,IACL;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,SAAS,EAAC,YAFd;AAGI,QAAA,WAAW,EAAC,WAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAzBR,EAiCKD,WAAW,IACR;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AACI,QAAA,SAAS,EAAC,yBADd;AAEI,QAAA,OAAO,EAAE,KAAKuB,gBAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAII;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,SAAS,EAAC,YAFd;AAGI,QAAA,EAAE,EAAC,YAHP;AAII,QAAA,QAAQ,EAAE,KAAKA,gBAJnB;AAKI,QAAA,MAAM,EAAC,MALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,CADJ,CAlCR,CARR,CAnFJ,EA+II;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,QAAD;AACI,QAAA,OAAO,EAAE3B,UADb;AAEI,QAAA,QAAQ,EAAE;AAAA,iBAAM,MAAI,CAACiC,QAAL,CAAc;AAAEjC,YAAAA,UAAU,EAAE,CAACA;AAAf,WAAd,CAAN;AAAA,SAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAOKC,UAAU,IACP;AAAK,QAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AACI,QAAA,OAAO,EAAEC,aADb;AAEI,QAAA,OAAO,EAAE;AAAA,iBACL,MAAI,CAAC+B,QAAL,CAAc;AACV/B,YAAAA,aAAa,EAAE,CAACA,aADN;AAEVC,YAAAA,UAAU,EAAE,CAACA;AAFH,WAAd,CADK;AAAA,SAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAYI,oBAAC,KAAD;AACI,QAAA,OAAO,EAAEA,UADb;AAEI,QAAA,OAAO,EAAE;AAAA,iBACL,MAAI,CAAC8B,QAAL,CAAc;AACV/B,YAAAA,aAAa,EAAE,CAACA,aADN;AAEVC,YAAAA,UAAU,EAAE,CAACA;AAFH,WAAd,CADK;AAAA,SAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAZJ,EAwBKA,UAAU,IACP;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,SAAS,EAAC,YAFd;AAGI,QAAA,WAAW,EAAC,WAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAzBR,EAiCKD,aAAa,IACV;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AACI,QAAA,SAAS,EAAC,yBADd;AAEI,QAAA,OAAO,EAAE,KAAKyB,gBAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAII;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,SAAS,EAAC,YAFd;AAGI,QAAA,EAAE,EAAC,YAHP;AAII,QAAA,QAAQ,EAAE,KAAKA,gBAJnB;AAKI,QAAA,MAAM,EAAC,MALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,CADJ,CAlCR,CARR,CA/IJ,EA4MI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA5MJ,EA6MI,oBAAC,QAAD;AACI,QAAA,OAAO,EAAE7B,OADb;AAEI,QAAA,OAAO,EAAE,iBAAA8B,CAAC,EAAI;AACV,UAAA,MAAI,CAACK,QAAL,CAAc;AAAEnC,YAAAA,OAAO,EAAE,CAACA;AAAZ,WAAd;AACH,SAJL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCA7MJ,CADJ,EAwNI,oBAAC,cAAD;AAAgB,QAAA,EAAE,EAAC,iBAAnB;AAAqC,QAAA,EAAE,EAAC,MAAxC;AAA+C,QAAA,SAAS,EAAC,OAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAxNJ,EA2NI,oBAAC,kBAAD;AACI,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAAC8C,KAAL,CAAWC,OAAX,CAAmBC,MAAnB,EAAN;AAAA,SADb;AAEI,QAAA,SAAS,EAAC,mBAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBA3NJ,CADJ,EAmOI;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gGAFJ,CAnOJ,CAFJ,CADJ;AAgPH;;;;EAxViBhE,S;;AA2VtB,eAAeQ,gBAAgB,CAACG,OAAD,CAA/B","sourcesContent":["import React, { Component } from 'react'\nimport _ from 'lodash'\nimport Stepper from '@/components/stepper'\nimport WrapComponents from '@/components/wrapper'\nimport { Radio } from '@/components/radio'\nimport { ColoredButtons, TransparentButtons } from '@/components/button'\nimport { SmallHeading } from '@/components/headings/index'\nimport ConnectComponent from '../../../connect'\nimport { Checkbox } from '@/components/checkBox/index'\nimport { UploadContent } from '@/actions/utils'\n\nclass StepTwo extends Component {\n    state = {\n        steps: ['Channel', 'Message', 'Scheduling', 'Segmentation', 'Overview & Send'],\n        message: '',\n        title: '',\n        advance: false,\n        buttons: false,\n        background: false,\n        foreground: false,\n        FgImageUpload: true,\n        FgImageUrl: false,\n        ImageUpload: true,\n        ImageUrl: false,\n        upload: false,\n        closeActionUrl: true,\n        enterActionUrl: false,\n        userFilePath: '',\n        ui: {\n            bg: {\n                img: '',\n                sc: '',\n                clr: '',\n                sw: 3,\n                rd: 3,\n            },\n            fg: {\n                img: '',\n                clr: '7',\n                sc: '',\n                sw: 0,\n                rd: 0,\n            },\n            ttl: {\n                txt: '',\n                clr: '',\n                sz: '20',\n            },\n            msg: {\n                txt: '',\n                clr: '',\n                sz: '',\n            },\n            img: '',\n            appLink: '',\n            btnOrig: 3,\n            inAppButtons: [\n                {\n                    text: '',\n                    clr: '',\n                    bgc: '',\n                    sz: 12,\n                    appLink: '',\n                },\n            ],\n        },\n    }\n    handleFileChange = async e => {\n        const { files } = e.target\n        if (files.length == 1) {\n            const res = await UploadContent(files[0], 'media')\n            if (res) {\n                this.setState({\n                    userFilePath: res.s3url,\n                    upload: true,\n                })\n            }\n        }\n    }\n    handleInputFields(key, value) {\n        if (!value) {\n            this.setState({\n                [key]: value,\n            })\n        } else {\n            this.setState({\n                [key]: value,\n            })\n        }\n    }\n\n    handleStateInputField = (key, value) => {\n        let { ui } = this.state\n        this.setState({\n            ui: _.set(ui, key, value),\n        })\n    }\n\n    render() {\n        const {\n            steps,\n            message,\n            title,\n            advance,\n            button,\n            background,\n            ImageUrl,\n            ImageUpload,\n            foreground,\n            FgImageUpload,\n            FgImageUrl,\n            closeActionUrl,\n            enterActionUrl,\n            ui,\n        } = this.state\n        return (\n            <WrapComponents>\n                <Stepper steps={steps} activeStep={1} />\n                <div className=\"flex-space-bt \">\n                    <div className=\"section-left\">\n                        <div className=\"section\">\n                            <SmallHeading>Title*</SmallHeading>\n                            <input\n                                placeholder=\"Enter Message title\"\n                                type=\"text\"\n                                className=\"form-input\"\n                                name=\"title\"\n                                value={ui.ttl.txt}\n                                onChange={e =>\n                                    this.handleStateInputField('ttl.txt', e.currentTarget.value)\n                                }\n                            />\n                            <SmallHeading>Message*</SmallHeading>\n                            <input\n                                placeholder=\"Enter Message\"\n                                type=\"text\"\n                                className=\"form-input\"\n                                name=\"message\"\n                                value={ui.msg.txt}\n                                onChange={e =>\n                                    this.handleStateInputField('msg.txt', e.currentTarget.value)\n                                }\n                            />\n                            <div className=\"advance-row\">\n                                <Checkbox\n                                    checked={button}\n                                    onChange={() => this.setState({ button: !button })}\n                                >\n                                    Button\n                                </Checkbox>\n                                {button &&\n                                    _.map(ui.inAppButtons, (btn, index) => (\n                                        <div key={index}>\n                                            <div className=\"mrgn-top-15 row-child\">\n                                                <input\n                                                    type=\"text\"\n                                                    className=\"form-input\"\n                                                    placeholder=\"Button Text\"\n                                                    value={btn.text}\n                                                    onChange={e =>\n                                                        this.handleStateInputField(\n                                                            `inAppButtons[${index}].text`,\n                                                            e.currentTarget.value\n                                                        )\n                                                    }\n                                                />\n                                            </div>\n                                            <div className=\"mrgn-top-15 margn-left-15 \">\n                                                <Radio\n                                                    checked={closeActionUrl}\n                                                    onClick={() =>\n                                                        this.setState({\n                                                            closeActionUrl: !closeActionUrl,\n                                                            enterActionUrl: !enterActionUrl,\n                                                        })\n                                                    }\n                                                >\n                                                    Close Notification\n                                                </Radio>\n                                                <Radio\n                                                    checked={enterActionUrl}\n                                                    onClick={() =>\n                                                        this.setState({\n                                                            closeActionUrl: !closeActionUrl,\n                                                            enterActionUrl: !enterActionUrl,\n                                                        })\n                                                    }\n                                                >\n                                                    Enter Redirect URL\n                                                </Radio>\n                                                {enterActionUrl && (\n                                                    <div className=\"mrgn-top-15 row-child\">\n                                                        <input\n                                                            type=\"text\"\n                                                            className=\"form-input\"\n                                                            placeholder=\"Enter URL\"\n                                                        />\n                                                    </div>\n                                                )}\n                                            </div>\n                                        </div>\n                                    ))}\n                            </div>\n                            <div className=\"advance-row\">\n                                <Checkbox\n                                    checked={background}\n                                    onChange={() => this.setState({ background: !background })}\n                                >\n                                    Background\n                                </Checkbox>\n                                {background && (\n                                    <div className=\"mrgn-top-15 margn-left-15 \">\n                                        <Radio\n                                            checked={ImageUpload}\n                                            onClick={() =>\n                                                this.setState({\n                                                    ImageUpload: !ImageUpload,\n                                                    ImageUrl: !ImageUrl,\n                                                })\n                                            }\n                                        >\n                                            Upload Image\n                                        </Radio>\n                                        <Radio\n                                            checked={ImageUrl}\n                                            onClick={() =>\n                                                this.setState({\n                                                    ImageUpload: !ImageUpload,\n                                                    ImageUrl: !ImageUrl,\n                                                })\n                                            }\n                                        >\n                                            Enter URL\n                                        </Radio>\n\n                                        {ImageUrl && (\n                                            <div className=\"mrgn-top-15 row-child\">\n                                                <input\n                                                    type=\"text\"\n                                                    className=\"form-input\"\n                                                    placeholder=\"Enter URL\"\n                                                />\n                                            </div>\n                                        )}\n                                        {ImageUpload && (\n                                            <div className=\"mrgn-top-15 row-child\">\n                                                <div\n                                                    className=\"upload-file upload-box \"\n                                                    onClick={this.handleFileChange}\n                                                >\n                                                    <input\n                                                        type=\"file\"\n                                                        className=\"file-input\"\n                                                        id=\"uploadFile\"\n                                                        onChange={this.handleFileChange}\n                                                        accept=\".jpg\"\n                                                    />\n                                                </div>\n                                            </div>\n                                        )}\n                                    </div>\n                                )}\n                            </div>\n                            <div className=\"advance-row\">\n                                <Checkbox\n                                    checked={background}\n                                    onChange={() => this.setState({ background: !background })}\n                                >\n                                    Background\n                                </Checkbox>\n                                {foreground && (\n                                    <div className=\"mrgn-top-15 margn-left-15 \">\n                                        <Radio\n                                            checked={FgImageUpload}\n                                            onClick={() =>\n                                                this.setState({\n                                                    FgImageUpload: !FgImageUpload,\n                                                    FgImageUrl: !FgImageUrl,\n                                                })\n                                            }\n                                        >\n                                            Upload Image\n                                        </Radio>\n                                        <Radio\n                                            checked={FgImageUrl}\n                                            onClick={() =>\n                                                this.setState({\n                                                    FgImageUpload: !FgImageUpload,\n                                                    FgImageUrl: !FgImageUrl,\n                                                })\n                                            }\n                                        >\n                                            Enter URL\n                                        </Radio>\n\n                                        {FgImageUrl && (\n                                            <div className=\"mrgn-top-15 row-child\">\n                                                <input\n                                                    type=\"text\"\n                                                    className=\"form-input\"\n                                                    placeholder=\"Enter URL\"\n                                                />\n                                            </div>\n                                        )}\n                                        {FgImageUpload && (\n                                            <div className=\"mrgn-top-15 row-child\">\n                                                <div\n                                                    className=\"upload-file upload-box \"\n                                                    onClick={this.handleFileChange}\n                                                >\n                                                    <input\n                                                        type=\"file\"\n                                                        className=\"file-input\"\n                                                        id=\"uploadFile\"\n                                                        onChange={this.handleFileChange}\n                                                        accept=\".jpg\"\n                                                    />\n                                                </div>\n                                            </div>\n                                        )}\n                                    </div>\n                                )}\n                            </div>\n\n                            <div className=\"dotted-line\" />\n                            <Checkbox\n                                checked={advance}\n                                onClick={e => {\n                                    this.setState({ advance: !advance })\n                                }}\n                            >\n                                Include Close Button\n                            </Checkbox>\n                        </div>\n\n                        <ColoredButtons to=\"/in-app/step-3/\" as=\"link\" className=\"float\">\n                            Continue\n                        </ColoredButtons>\n                        <TransparentButtons\n                            onClick={() => this.props.history.goBack()}\n                            className=\"float grey-border\"\n                        >\n                            Go Back\n                        </TransparentButtons>\n                    </div>\n                    <div className=\"section section-right\">\n                        <SmallHeading>Preview</SmallHeading>\n                        <div className=\"preview-text\">\n                            Actual display may be different to this preview depending on the user’s\n                            device.\n                        </div>\n                    </div>\n                </div>\n            </WrapComponents>\n        )\n    }\n}\n\nexport default ConnectComponent(StepTwo)\n"]},"metadata":{},"sourceType":"module"}