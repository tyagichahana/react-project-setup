{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/Users/chahanatyagi/Work/cm-frontend/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.runAsync = runAsync;\nexports.runSync = runSync;\n\nfunction _traverse() {\n  var data = _interopRequireDefault(require(\"@babel/traverse\"));\n\n  _traverse = function _traverse() {\n    return data;\n  };\n\n  return data;\n}\n\nvar _pluginPass = _interopRequireDefault(require(\"./plugin-pass\"));\n\nvar _blockHoistPlugin = _interopRequireDefault(require(\"./block-hoist-plugin\"));\n\nvar _normalizeOpts = _interopRequireDefault(require(\"./normalize-opts\"));\n\nvar _normalizeFile = _interopRequireDefault(require(\"./normalize-file\"));\n\nvar _generate = _interopRequireDefault(require(\"./file/generate\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction runAsync(config, code, ast, callback) {\n  var result;\n\n  try {\n    result = runSync(config, code, ast);\n  } catch (err) {\n    return callback(err);\n  }\n\n  return callback(null, result);\n}\n\nfunction runSync(config, code, ast) {\n  var file = (0, _normalizeFile.default)(config.passes, (0, _normalizeOpts.default)(config), code, ast);\n  transformFile(file, config.passes);\n  var opts = file.opts;\n\n  var _ref = opts.code !== false ? (0, _generate.default)(config.passes, file) : {},\n      outputCode = _ref.outputCode,\n      outputMap = _ref.outputMap;\n\n  return {\n    metadata: file.metadata,\n    options: opts,\n    ast: opts.ast === true ? file.ast : null,\n    code: outputCode === undefined ? null : outputCode,\n    map: outputMap === undefined ? null : outputMap,\n    sourceType: file.ast.program.sourceType\n  };\n}\n\nfunction transformFile(file, pluginPasses) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = pluginPasses[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var pluginPairs = _step.value;\n      var passPairs = [];\n      var passes = [];\n      var visitors = [];\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = pluginPairs.concat([(0, _blockHoistPlugin.default)()])[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var plugin = _step2.value;\n          var pass = new _pluginPass.default(file, plugin.key, plugin.options);\n          passPairs.push([plugin, pass]);\n          passes.push(pass);\n          visitors.push(plugin.visitor);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      for (var _i = 0; _i < passPairs.length; _i++) {\n        var _passPairs$_i = _slicedToArray(passPairs[_i], 2),\n            _plugin = _passPairs$_i[0],\n            _pass = _passPairs$_i[1];\n\n        var fn = _plugin.pre;\n\n        if (fn) {\n          var result = fn.call(_pass, file);\n\n          if (isThenable(result)) {\n            throw new Error(\"You appear to be using an plugin with an async .pre, \" + \"which your current version of Babel does not support.\" + \"If you're using a published plugin, you may need to upgrade \" + \"your @babel/core version.\");\n          }\n        }\n      }\n\n      var visitor = _traverse().default.visitors.merge(visitors, passes, file.opts.wrapPluginVisitorMethod);\n\n      (0, _traverse().default)(file.ast, visitor, file.scope);\n\n      for (var _i2 = 0; _i2 < passPairs.length; _i2++) {\n        var _passPairs$_i2 = _slicedToArray(passPairs[_i2], 2),\n            _plugin2 = _passPairs$_i2[0],\n            _pass2 = _passPairs$_i2[1];\n\n        var _fn = _plugin2.post;\n\n        if (_fn) {\n          var _result = _fn.call(_pass2, file);\n\n          if (isThenable(_result)) {\n            throw new Error(\"You appear to be using an plugin with an async .post, \" + \"which your current version of Babel does not support.\" + \"If you're using a published plugin, you may need to upgrade \" + \"your @babel/core version.\");\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n}\n\nfunction isThenable(val) {\n  return !!val && (typeof val === \"object\" || typeof val === \"function\") && typeof val.then === \"function\";\n}","map":null,"metadata":{},"sourceType":"script"}