{"ast":null,"code":"import _regeneratorRuntime from \"/Users/chahanatyagi/Work/cm-frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/chahanatyagi/Work/cm-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport Api from '@/utils/Api';\nimport Store from '@/reducer';\nimport * as Types from '@/constants/Types';\nexport var AddUser =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(params) {\n    var response;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            Store.dispatch({\n              type: Types.CREATE_CAMPAIGN_LOADING\n            });\n            _context.prev = 1;\n            _context.next = 4;\n            return Api.addCampaignUser(params);\n\n          case 4:\n            response = _context.sent;\n            return _context.abrupt(\"return\", response);\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](1);\n            console.log(_context.t0, 'add user jhtu52i4y6467854y675ygtcyefrgh');\n            Store.dispatch({\n              type: Types.CREATE_CAMPAIGN_FAILURE,\n              data: 'Something went wrong'\n            });\n            return _context.abrupt(\"return\", null);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[1, 8]]);\n  }));\n\n  return function AddUser(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var SendCampaign =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(params) {\n    var response;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            Store.dispatch({\n              type: Types.CREATE_CAMPAIGN_LOADING\n            });\n            _context2.prev = 1;\n            _context2.next = 4;\n            return Api.triggerCampaign(params);\n\n          case 4:\n            response = _context2.sent;\n            return _context2.abrupt(\"return\", response);\n\n          case 8:\n            _context2.prev = 8;\n            _context2.t0 = _context2[\"catch\"](1);\n            Store.dispatch({\n              type: Types.CREATE_CAMPAIGN_FAILURE,\n              data: 'Something went wrong'\n            });\n            return _context2.abrupt(\"return\", null);\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[1, 8]]);\n  }));\n\n  return function SendCampaign(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var UploadContent =\n/*#__PURE__*/\nfunction () {\n  var _ref3 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3(file) {\n    var category,\n        formData,\n        _args3 = arguments;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            category = _args3.length > 1 && _args3[1] !== undefined ? _args3[1] : 'email_template';\n            Store.dispatch({\n              type: Types.CREATE_CAMPAIGN_LOADING\n            });\n            _context3.prev = 2;\n            formData = new FormData();\n            formData.append('file', file);\n            formData.append('category', category);\n            _context3.next = 8;\n            return Api.CreateContent(formData);\n\n          case 8:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 11:\n            _context3.prev = 11;\n            _context3.t0 = _context3[\"catch\"](2);\n            Store.dispatch({\n              type: Types.CREATE_CAMPAIGN_FAILURE,\n              data: 'Something went wrong'\n            });\n            return _context3.abrupt(\"return\", null);\n\n          case 15:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[2, 11]]);\n  }));\n\n  return function UploadContent(_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var createParentId =\n/*#__PURE__*/\nfunction () {\n  var _ref4 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee4() {\n    var response;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            Store.dispatch({\n              type: Types.CREATE_CAMPAIGN_LOADING\n            });\n            _context4.prev = 1;\n            // const response = await Api.createParent() // TODO: uncomment before build\n            response = {\n              parentID: 35\n            };\n            Store.dispatch({\n              type: Types.CREATE_CAMPAIGN_SUCCESS,\n              data: response\n            });\n            return _context4.abrupt(\"return\", response);\n\n          case 7:\n            _context4.prev = 7;\n            _context4.t0 = _context4[\"catch\"](1);\n            Store.dispatch({\n              type: Types.CREATE_CAMPAIGN_FAILURE\n            });\n            return _context4.abrupt(\"return\", null);\n\n          case 11:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[1, 7]]);\n  }));\n\n  return function createParentId() {\n    return _ref4.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["/Users/chahanatyagi/Work/cm-frontend/src/actions/utils.js"],"names":["Api","Store","Types","AddUser","params","dispatch","type","CREATE_CAMPAIGN_LOADING","addCampaignUser","response","console","log","CREATE_CAMPAIGN_FAILURE","data","SendCampaign","triggerCampaign","UploadContent","file","category","formData","FormData","append","CreateContent","createParentId","parentID","CREATE_CAMPAIGN_SUCCESS"],"mappings":"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","sourcesContent":["import Api from '@/utils/Api'\nimport Store from '@/reducer'\nimport * as Types from '@/constants/Types'\n\nexport const AddUser = async params => {\n    Store.dispatch({\n        type: Types.CREATE_CAMPAIGN_LOADING,\n    })\n    try {\n        const response = await Api.addCampaignUser(params)\n        return response\n    } catch (err) {\n        console.log(err, 'add user jhtu52i4y6467854y675ygtcyefrgh')\n        Store.dispatch({\n            type: Types.CREATE_CAMPAIGN_FAILURE,\n            data: 'Something went wrong',\n        })\n        return null\n    }\n}\n\nexport const SendCampaign = async params => {\n    Store.dispatch({\n        type: Types.CREATE_CAMPAIGN_LOADING,\n    })\n    try {\n        const response = await Api.triggerCampaign(params)\n\n        return response\n    } catch (err) {\n        Store.dispatch({\n            type: Types.CREATE_CAMPAIGN_FAILURE,\n            data: 'Something went wrong',\n        })\n        return null\n    }\n}\n\nexport const UploadContent = async (file, category = 'email_template') => {\n    Store.dispatch({\n        type: Types.CREATE_CAMPAIGN_LOADING,\n    })\n    try {\n        const formData = new FormData()\n        formData.append('file', file)\n        formData.append('category', category)\n        return await Api.CreateContent(formData)\n    } catch (e) {\n        Store.dispatch({\n            type: Types.CREATE_CAMPAIGN_FAILURE,\n            data: 'Something went wrong',\n        })\n        return null\n    }\n}\n\nexport const createParentId = async () => {\n    Store.dispatch({\n        type: Types.CREATE_CAMPAIGN_LOADING,\n    })\n    try {\n        // const response = await Api.createParent() // TODO: uncomment before build\n        const response = { parentID: 35 }\n        Store.dispatch({\n            type: Types.CREATE_CAMPAIGN_SUCCESS,\n            data: response,\n        })\n        return response\n    } catch (e) {\n        Store.dispatch({\n            type: Types.CREATE_CAMPAIGN_FAILURE,\n        })\n        return null\n    }\n}\n"]},"metadata":{},"sourceType":"module"}