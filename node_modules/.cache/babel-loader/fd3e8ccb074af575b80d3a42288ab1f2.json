{"ast":null,"code":"import * as types from '@/constants/Types';\nimport Api from '@/utils/Api';\nimport Store from '@/reducer';\nexport var loginAction = function loginAction(data) {\n  Store.dispatch({\n    type: types.LOGIN_LOADING\n  });\n  Api.loginUser().then(function (res) {\n    Store.dispatch({\n      type: types.LOGIN_SUCCESS,\n      data: res\n    });\n    window.localStorage.setItem(types.AUTH_TOKEN_KEY, data.token);\n    window.location.reload();\n  }).catch(function (err) {\n    Store.dispatch({\n      type: types.LOGIN_FAILURE,\n      error: err\n    });\n  });\n}; // export function redirectLogin () {\n//     const localToken = window.localStorage.getItem(AUTH_TOKEN_KEY)\n//     if (localToken) {\n//         Store.dispatch({\n//             type: 'LOGIN_REDIRECT',\n//             data: true\n//         })\n//     } else {\n//         const { pathname } = window.location;\n//         if (pathname === '/login') {\n//             return;\n//         } else if (pathname.indexOf('forget-password') > -1) {\n//             return;\n//         } else if (pathname.indexOf('signup') > -1) {\n//             return;\n//         } else {\n//             window.location.href = '/login'\n//         }\n//     }\n// }\n\nexport default loginAction;","map":{"version":3,"sources":["/Users/chahanatyagi/Work/cm-frontend/src/actions/User.js"],"names":["types","Api","Store","loginAction","data","dispatch","type","LOGIN_LOADING","loginUser","then","res","LOGIN_SUCCESS","window","localStorage","setItem","AUTH_TOKEN_KEY","token","location","reload","catch","err","LOGIN_FAILURE","error"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,mBAAvB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,OAAOC,KAAP,MAAkB,WAAlB;AAEA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,IAAD,EAAU;AACjCF,EAAAA,KAAK,CAACG,QAAN,CAAe;AACXC,IAAAA,IAAI,EAAEN,KAAK,CAACO;AADD,GAAf;AAGAN,EAAAA,GAAG,CAACO,SAAJ,GACKC,IADL,CACU,UAAAC,GAAG,EAAI;AACTR,IAAAA,KAAK,CAACG,QAAN,CAAe;AACXC,MAAAA,IAAI,EAAEN,KAAK,CAACW,aADD;AAEXP,MAAAA,IAAI,EAAEM;AAFK,KAAf;AAIAE,IAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4Bd,KAAK,CAACe,cAAlC,EAAkDX,IAAI,CAACY,KAAvD;AACAJ,IAAAA,MAAM,CAACK,QAAP,CAAgBC,MAAhB;AAEH,GATL,EAUKC,KAVL,CAUW,UAAAC,GAAG,EAAI;AACVlB,IAAAA,KAAK,CAACG,QAAN,CAAe;AACXC,MAAAA,IAAI,EAAEN,KAAK,CAACqB,aADD;AAEXC,MAAAA,KAAK,EAAEF;AAFI,KAAf;AAIH,GAfL;AAgBH,CApBM,C,CAsBP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAejB,WAAf","sourcesContent":["import * as types from '@/constants/Types';\nimport Api from '@/utils/Api';\nimport Store from '@/reducer';\n\nexport const loginAction = (data) => {\n    Store.dispatch({\n        type: types.LOGIN_LOADING,\n    });\n    Api.loginUser()\n        .then(res => {\n            Store.dispatch({\n                type: types.LOGIN_SUCCESS,\n                data: res,\n            });\n            window.localStorage.setItem(types.AUTH_TOKEN_KEY, data.token)\n            window.location.reload();\n\n        })\n        .catch(err => {\n            Store.dispatch({\n                type: types.LOGIN_FAILURE,\n                error: err,\n            });\n        });\n};\n\n// export function redirectLogin () {\n//     const localToken = window.localStorage.getItem(AUTH_TOKEN_KEY)\n//     if (localToken) {\n//         Store.dispatch({\n//             type: 'LOGIN_REDIRECT',\n//             data: true\n//         })\n//     } else {\n//         const { pathname } = window.location;\n//         if (pathname === '/login') {\n//             return;\n//         } else if (pathname.indexOf('forget-password') > -1) {\n//             return;\n//         } else if (pathname.indexOf('signup') > -1) {\n//             return;\n//         } else {\n//             window.location.href = '/login'\n//         }\n//     }\n// }\nexport default loginAction\n"]},"metadata":{},"sourceType":"module"}